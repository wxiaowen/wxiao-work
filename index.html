<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <title>天气预报</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="Cache-Control" CONTENT="no-cache">
    <meta name="Keywords" content="wen">
    <meta name="description" content="wen" >
    <meta name="author" content="wen">
    <link href="./logo.png" rel="shortcut icon">
    <link rel=""
          crossorigin="anonstylesheet" href="./css/bootstrap.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            height: 100%;
            background-repeat: no-repeat;
            background-size: 100% 100%;
            background-attachment: fixed;
        }

        .app_name {
            color: #ffffff;
            font-size: 36px;
        }

        .music_app {
            height: 120px;
            background-color: rgba(255, 190, 192, 0.45);
            border-radius: 30px;
            text-align: center;
            line-height: 120px;
            margin-left: 45px;
            margin-right: 75px;
        }

        .bottom-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            margin-bottom: 60px;
        }

    </style>
    <script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
    <script src="./js/angular.min.js"></script>
    <script src="https://cdn.bootcss.com/angular-ui-router/1.0.18/angular-ui-router.min.js"></script>
    <script src="./js/angular-resource.js"></script>
    <script src="./js/highcharts.js"></script>
    <script src="./js/map.js"></script>
    <script src="./js/china.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.2.2/proj4.js"></script>
     <script src="./app.js"></script>
    <script src="./js/weatherCtrl.js"></script>
</head>

<body>

<div class="container-fluid" ng-controller="weatherCtrl">
    <div ng-view>

    </div>
</div>
<!--<script src="http://vjs.zencdn.net/6.4.0/music.js"></script>-->
<script>




//    angular.module('myApp', []).controller('weatherCtrl', function ($scope, $http) {
//        $http.get('/api/weather/dayinfo').success(function (response) {
//            $scope.Weather6 = response.HeWeather6;
//            charFunction($scope.Weather6[0].daily_forecast);
//            console.log($scope.Weather6[0]);
//
//            var data = [{
//                lat: $scope.Weather6[0].basic.lat,
//                lon: $scope.Weather6[0].basic.lon,
//                color: 'green',
//                name: $scope.Weather6[0].basic.parent_city
//            }];
//            console.log(data);
//            var map = new Highcharts.Map('container', {
//                title: {
//                    text: '你所在位置'
//                },
//                mapNavigation: {
//                    enabled: true,
//                    buttonOptions: {
//                        verticalAlign: 'bottom'
//                    }
//                },
//                tooltip: {
//                    useHTML: true,
////                    formatter: function () {
////                        return "你所在位置：" + this.point.name;
////                    }
//                },
//                plotOptions: {
//                    series: {
//                        dataLabels: {
//                            enabled: true
//                        },
//                        marker: {
//                            radius: 3
//                        }
//                    }
//                },
//                series: [{
//                    // 空数据列，用于展示底图
//                    mapData: Highcharts.maps['cn/china'],
//                    showInLegend: false
//                }, {
//                    type: 'mappoint',
//                    name: '中国地图',
//                    data: data
//                }]
//            });
//        });
//        $http.get('/api/getIp').success(function (response) {
//            $scope.ip = response.ip;
//            $scope.count = response.count;
//        });
//    });
//
//    //绘制表格
//    function charFunction(result) {
//        var date = new Array();
//        var tmp_min = new Array();
//        var tmp_max = new Array();
//        var cond_txt_d = new Array();
//        var cond_txt_n = new Array();
//        var len = 0;
//        for (var i = 0; i < (len = result.length); i++) {
//            date[i] = result[i].date;
//            tmp_min[i] = result[i].tmp_min;
//            tmp_max[i] = result[i].tmp_max;
//            cond_txt_d[i] = result[i].cond_txt_d;
//            cond_txt_n[i] = result[i].cond_txt_n;
//
//        }
//
//        var options = {
//            chart: {
//                zoomType: 'xy'
//            },
//            title: {
//                text: '温度走势'
//            },
//            xAxis: [{
//                categories: date,
//                crosshair: true
//            }],
//            yAxis: [{ // Primary yAxis
//
//                title: {
//                    text: '',
//                    style: {
//                        color: Highcharts.getOptions().colors[1]
//                    }
//                },
//                labels: {
//                    style: {
//                        color: Highcharts.getOptions().colors[1]
//                    }
//                }
//            }, { // Secondary yAxis
//                labels: {
//                    style: {
//                        color: '#ff3da6'
//                    }
//                },
//                title: {
//                    text: '温度(℃)',
//                    style: {
//                        color: '#67cdcc'
//                    }
//                },
//                opposite: false
//            }],
//            tooltip: {
//                shared: true,
////                formatter: function () {
////                        return "白天：" + cond_txt_n+"夜晚："+cond_txt_d  ;
////                    }
//            },
//            exporting: {enabled: false},
//            series: [{
//                name: '最高温度',
//                type: 'spline',
//                yAxis: 1,
//                color: '#4BB44B',
//                data: tmp_max,
//
//                tooltip: {
//                    valueSuffix: '℃'
//                }
//
//            },
//                {
//                    name: '最低温度',
//                    type: 'spline',
//                    yAxis: 1,
//                    color: '#a222bb',
//                    data: tmp_min,
//                    tooltip: {
//                        valueSuffix: '℃'
//                    }
//                }
//            ]
//        };
//
//        // 图表初始化函数
//        var chart = Highcharts.chart('weatherChart', options);
//    };
</script>
</body>

</html>